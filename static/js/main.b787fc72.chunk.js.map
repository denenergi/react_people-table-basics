{"version":3,"sources":["components/Loader/Loader.tsx","components/PersonLink.tsx","components/PeoplesPage.tsx","api.ts","App.tsx","index.tsx"],"names":["Loader","className","PersonLink","person","slugMan","perentsMother","perentsFather","isSelected","slug","name","sex","born","died","motherName","fatherName","classNames","to","replace","length","PeoplesPage","peoples","error","isLoading","useParams","peopleSlug","getParent","parentName","find","map","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","App","useState","setPeoples","setError","setIsLoading","useEffect","res","catch","finally","role","isActive","path","element","index","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.b787fc72.chunk.js","sourcesContent":["import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import classNames from 'classnames';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Person } from '../types';\n\ninterface Props {\n  person: Person;\n  slugMan: string;\n  perentsMother: Person | null;\n  perentsFather: Person | null;\n}\n\nexport const PersonLink: React.FC<Props> = ({\n  person, slugMan, perentsMother, perentsFather,\n}) => {\n  const isSelected = person.slug === slugMan;\n\n  const {\n    name, sex, born, died, slug, motherName, fatherName,\n  } = person;\n\n  return (\n    <tr\n      data-cy=\"person\"\n      className={classNames({\n        'has-background-warning': isSelected,\n      })}\n    >\n      <td>\n        <NavLink\n          to={`../${slug}`}\n          className={() => classNames(\n            { 'has-text-danger': person.sex === 'f' },\n          )}\n          replace\n        >\n          {name}\n        </NavLink>\n      </td>\n\n      <td>{sex}</td>\n      <td>{born}</td>\n      <td>{died}</td>\n      {perentsMother ? (\n        <td>\n          <NavLink\n            to={`../${perentsMother.slug}`}\n            className={() => classNames(\n              { 'has-text-danger': perentsMother.sex === 'f' },\n            )}\n          >\n            {motherName}\n          </NavLink>\n        </td>\n      ) : (\n        <td>\n          {motherName?.length ? (\n            motherName\n          ) : (\n            '-'\n          )}\n        </td>\n      )}\n      {perentsFather ? (\n        <td>\n          <NavLink to={`../${perentsFather.slug}`}>\n            {fatherName}\n          </NavLink>\n        </td>\n      ) : (\n        <td>\n          {fatherName?.length ? (\n            fatherName\n          ) : (\n            '-'\n          )}\n        </td>\n      )}\n    </tr>\n  );\n};\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Person } from '../types';\nimport { Loader } from './Loader/Loader';\nimport { PersonLink } from './PersonLink';\n\ninterface Props {\n  peoples: Person[],\n  error: string\n  isLoading: boolean\n}\n\nexport const PeoplesPage: React.FC<Props> = ({ peoples, error, isLoading }) => {\n  const { peopleSlug = '' } = useParams();\n\n  const getParent = (parentName: string | null) => {\n    return peoples.find(person => person.name === parentName) || null;\n  };\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n      <div className=\"container\">\n        <div className=\"block\">\n          <div className=\"box table-container\">\n            {isLoading\n              ? (\n                <>\n                  {error === 'Something went wrong' && (\n                    <p\n                      data-cy=\"peopleLoadingError\"\n                      className=\"has-text-danger\"\n                    >\n                      Something went wrong\n                    </p>\n                  )}\n\n                  {error === '' && peoples.length === 0 && (\n                    <p data-cy=\"noPeopleMessage\">\n                      There are no people on the server\n                    </p>\n                  )}\n                  <table\n                    data-cy=\"peopleTable\"\n                    className=\"\n                      table\n                      is-striped is-hoverable\n                      is-narrow is-fullwidth\"\n                  >\n                    <thead>\n                      <tr>\n                        <th>Name</th>\n                        <th>Sex</th>\n                        <th>Born</th>\n                        <th>Died</th>\n                        <th>Mother</th>\n                        <th>Father</th>\n                      </tr>\n                    </thead>\n\n                    <tbody>\n                      {peoples.map(person => (\n                        <PersonLink\n                          key={person.slug}\n                          person={person}\n                          slugMan={peopleSlug}\n                          perentsMother={getParent(person.motherName)}\n                          perentsFather={getParent(person.fatherName)}\n                        />\n                      ))}\n                    </tbody>\n                  </table>\n                </>\n              )\n              : <Loader />}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import { useEffect, useState } from 'react';\nimport {\n  Navigate,\n  NavLink, Route, Routes,\n} from 'react-router-dom';\nimport classNames from 'classnames';\nimport { PeoplesPage } from './components/PeoplesPage';\nimport { getPeople } from './api';\nimport { Person } from './types';\n\nexport const App = () => {\n  const [peoples, setPeoples] = useState<Person[] | []>([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    getPeople()\n      .then(res => setPeoples(res))\n      .catch(() => setError('Something went wrong'))\n      .finally(() => setIsLoading(true));\n  }, []);\n\n  return (\n    <div data-cy=\"app\">\n      <nav\n        data-cy=\"nav\"\n        className=\"navbar is-fixed-top has-shadow\"\n        role=\"navigation\"\n        aria-label=\"main navigation\"\n      >\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <NavLink\n              className={({ isActive }) => classNames('navbar-item',\n                { 'has-background-grey-lighter': isActive })}\n              to=\"/\"\n              replace\n            >\n              Home\n            </NavLink>\n\n            <NavLink\n              className={({ isActive }) => classNames('navbar-item',\n                { 'has-background-grey-lighter': isActive })}\n              to=\"people\"\n              replace\n            >\n              People\n            </NavLink>\n          </div>\n        </div>\n      </nav>\n\n      <main className=\"section\">\n        <Routes>\n          <Route\n            path=\"*\"\n            element={\n              <h1 className=\"title\">Page not found</h1>\n            }\n          />\n          <Route\n            path=\"/\"\n            element={\n              <h1 className=\"title\">Home Page</h1>\n            }\n\n          />\n          <Route\n            path=\"home\"\n            element={\n              <Navigate to=\"/\" replace />\n            }\n\n          />\n          <Route path=\"people\">\n            <Route\n              index\n              element={(\n                <PeoplesPage\n                  peoples={peoples}\n                  error={error}\n                  isLoading={isLoading}\n                />\n              )}\n            />\n            <Route\n              path=\":peopleSlug\"\n              element={(\n                <PeoplesPage\n                  peoples={peoples}\n                  error={error}\n                  isLoading={isLoading}\n                />\n              )}\n            />\n          </Route>\n        </Routes>\n      </main>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <HashRouter>\n      <App />\n    </HashRouter>,\n  );\n"],"sourceRoot":""}